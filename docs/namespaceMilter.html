<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pymilter: Milter Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">pymilter
   &#160;<span id="projectnumber">1.0.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Milter Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A thin OO wrapper for the milter module.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespaceMilter_1_1dns"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMilter_1_1dns.html">dns</a></td></tr>
<tr class="memdesc:namespaceMilter_1_1dns"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provide a higher level interface to pydns. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespaceMilter_1_1dsn"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMilter_1_1dsn.html">dsn</a></td></tr>
<tr class="memdesc:namespaceMilter_1_1dsn"><td class="mdescLeft">&#160;</td><td class="mdescRight">Support DSNs and CallBackValidations (CBV). <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespaceMilter_1_1pyip6"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMilter_1_1pyip6.html">pyip6</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespaceMilter_1_1test"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMilter_1_1test.html">test</a></td></tr>
<tr class="memdesc:namespaceMilter_1_1test"><td class="mdescLeft">&#160;</td><td class="mdescRight">A test framework for milters. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespaceMilter_1_1utils"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMilter_1_1utils.html">utils</a></td></tr>
<tr class="memdesc:namespaceMilter_1_1utils"><td class="mdescLeft">&#160;</td><td class="mdescRight">Miscellaneous functions. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMilter_1_1Base.html">Base</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A do "nothing" <a class="el" href="classMilter_1_1Milter.html" title="A logging but otherwise do nothing Milter base class. ">Milter</a> base class representing an SMTP connection.  <a href="classMilter_1_1Base.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMilter_1_1DisabledAction.html">DisabledAction</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disabled action exception.  <a href="classMilter_1_1DisabledAction.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMilter_1_1Milter.html">Milter</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A logging but otherwise do nothing <a class="el" href="classMilter_1_1Milter.html" title="A logging but otherwise do nothing Milter base class. ">Milter</a> base class.  <a href="classMilter_1_1Milter.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad789f93f62d6c9e96fdd9be997204cf0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMilter.html#ad789f93f62d6c9e96fdd9be997204cf0">uniqueID</a> ()</td></tr>
<tr class="separator:ad789f93f62d6c9e96fdd9be997204cf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fbc342a2665f81340c6b77da04f0fba"><td class="memItemLeft" align="right" valign="top"><a id="a8fbc342a2665f81340c6b77da04f0fba"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>decode_mask</b> (bits, names)</td></tr>
<tr class="separator:a8fbc342a2665f81340c6b77da04f0fba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb642b2896800154bfd09a87714270f3"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMilter.html#adb642b2896800154bfd09a87714270f3">enable_protocols</a> (klass, mask)</td></tr>
<tr class="memdesc:adb642b2896800154bfd09a87714270f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class decorator to enable optional protocol steps.  <a href="#adb642b2896800154bfd09a87714270f3">More...</a><br /></td></tr>
<tr class="separator:adb642b2896800154bfd09a87714270f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51b93684e65400f11b94b517bead1552"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMilter.html#a51b93684e65400f11b94b517bead1552">rejected_recipients</a> (klass)</td></tr>
<tr class="memdesc:a51b93684e65400f11b94b517bead1552"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="namespaceMilter.html" title="A thin OO wrapper for the milter module. ">Milter</a> rejected recipients.  <a href="#a51b93684e65400f11b94b517bead1552">More...</a><br /></td></tr>
<tr class="separator:a51b93684e65400f11b94b517bead1552"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7499675835bbccdb9512199a0b170bc2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMilter.html#a7499675835bbccdb9512199a0b170bc2">header_leading_space</a> (klass)</td></tr>
<tr class="memdesc:a7499675835bbccdb9512199a0b170bc2"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="namespaceMilter.html" title="A thin OO wrapper for the milter module. ">Milter</a> leading space on headers.  <a href="#a7499675835bbccdb9512199a0b170bc2">More...</a><br /></td></tr>
<tr class="separator:a7499675835bbccdb9512199a0b170bc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bcf5eccbf8694a1c259fa6681557d6b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMilter.html#a4bcf5eccbf8694a1c259fa6681557d6b">nocallback</a> (func)</td></tr>
<tr class="memdesc:a4bcf5eccbf8694a1c259fa6681557d6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function decorator to disable callback methods.  <a href="#a4bcf5eccbf8694a1c259fa6681557d6b">More...</a><br /></td></tr>
<tr class="separator:a4bcf5eccbf8694a1c259fa6681557d6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bc0cfa03c567347b622acda6f6b6d42"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMilter.html#a5bc0cfa03c567347b622acda6f6b6d42">noreply</a> (func)</td></tr>
<tr class="memdesc:a5bc0cfa03c567347b622acda6f6b6d42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function decorator to disable callback reply.  <a href="#a5bc0cfa03c567347b622acda6f6b6d42">More...</a><br /></td></tr>
<tr class="separator:a5bc0cfa03c567347b622acda6f6b6d42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a8edeac358a100594f22a802cd4ba94"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMilter.html#a9a8edeac358a100594f22a802cd4ba94">symlist</a> (syms)</td></tr>
<tr class="memdesc:a9a8edeac358a100594f22a802cd4ba94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function decorator to set macros used in a callback.  <a href="#a9a8edeac358a100594f22a802cd4ba94">More...</a><br /></td></tr>
<tr class="separator:a9a8edeac358a100594f22a802cd4ba94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3598adf6489982e50979239ef7df4e9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMilter.html#ad3598adf6489982e50979239ef7df4e9">negotiate_callback</a> (ctx, opts)</td></tr>
<tr class="memdesc:ad3598adf6489982e50979239ef7df4e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect context to connection instance and return enabled callbacks.  <a href="#ad3598adf6489982e50979239ef7df4e9">More...</a><br /></td></tr>
<tr class="separator:ad3598adf6489982e50979239ef7df4e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a991b1e2cee845a5e91b55345d5309c11"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMilter.html#a991b1e2cee845a5e91b55345d5309c11">connect_callback</a> (ctx, hostname, family, hostaddr, nr_mask=P_NR_CONN)</td></tr>
<tr class="memdesc:a991b1e2cee845a5e91b55345d5309c11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect context if needed and invoke connect method.  <a href="#a991b1e2cee845a5e91b55345d5309c11">More...</a><br /></td></tr>
<tr class="separator:a991b1e2cee845a5e91b55345d5309c11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacda23f972ebb12f0ba4364a868b85b8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMilter.html#aacda23f972ebb12f0ba4364a868b85b8">close_callback</a> (ctx)</td></tr>
<tr class="memdesc:aacda23f972ebb12f0ba4364a868b85b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect milterContext and call close method.  <a href="#aacda23f972ebb12f0ba4364a868b85b8">More...</a><br /></td></tr>
<tr class="separator:aacda23f972ebb12f0ba4364a868b85b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70614463afdd03aa7fefafde049ce003"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMilter.html#a70614463afdd03aa7fefafde049ce003">dictfromlist</a> (args)</td></tr>
<tr class="memdesc:a70614463afdd03aa7fefafde049ce003"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert ESMTP parameters with values to a keyword dictionary.  <a href="#a70614463afdd03aa7fefafde049ce003">More...</a><br /></td></tr>
<tr class="separator:a70614463afdd03aa7fefafde049ce003"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7a286dc2615af8a18b4ce61142b69c7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMilter.html#aa7a286dc2615af8a18b4ce61142b69c7">param2dict</a> (str)</td></tr>
<tr class="memdesc:aa7a286dc2615af8a18b4ce61142b69c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert ESMTP parm list to keyword dictionary.  <a href="#aa7a286dc2615af8a18b4ce61142b69c7">More...</a><br /></td></tr>
<tr class="separator:aa7a286dc2615af8a18b4ce61142b69c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e8bd5026774a96120d083007a5d4d73"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMilter.html#a5e8bd5026774a96120d083007a5d4d73">envcallback</a> (c, args)</td></tr>
<tr class="separator:a5e8bd5026774a96120d083007a5d4d73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a9ef4e7c479795d911767ebf66b073f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMilter.html#a2a9ef4e7c479795d911767ebf66b073f">runmilter</a> (name, socketname, timeout=0, rmsock=True)</td></tr>
<tr class="memdesc:a2a9ef4e7c479795d911767ebf66b073f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the milter.  <a href="#a2a9ef4e7c479795d911767ebf66b073f">More...</a><br /></td></tr>
<tr class="separator:a2a9ef4e7c479795d911767ebf66b073f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a52a627e58830372ea605aa1cba4e577b"><td class="memItemLeft" align="right" valign="top"><a id="a52a627e58830372ea605aa1cba4e577b"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>__version__</b> = '1.0.2'</td></tr>
<tr class="separator:a52a627e58830372ea605aa1cba4e577b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a353c6bd4cea8161f11341ed69a540e25"><td class="memItemLeft" align="right" valign="top"><a id="a353c6bd4cea8161f11341ed69a540e25"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_seq_lock</b> = thread.allocate_lock()</td></tr>
<tr class="separator:a353c6bd4cea8161f11341ed69a540e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e11e271e13282c95839a8fc693c61fd"><td class="memItemLeft" align="right" valign="top"><a id="a0e11e271e13282c95839a8fc693c61fd"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_seq</b> = 0</td></tr>
<tr class="separator:a0e11e271e13282c95839a8fc693c61fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afabb800c9ae9018dfa1d176710fe9386"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><b>OPTIONAL_CALLBACKS</b></td></tr>
<tr class="separator:afabb800c9ae9018dfa1d176710fe9386"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2bfeab3e33ceed9d2104017a97a506c"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><b>MACRO_CALLBACKS</b></td></tr>
<tr class="separator:ae2bfeab3e33ceed9d2104017a97a506c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39ab0eddcf476183b04e7c876f4f658d"><td class="memItemLeft" align="right" valign="top"><a id="a39ab0eddcf476183b04e7c876f4f658d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>R</b> = re.compile(r'%+')</td></tr>
<tr class="separator:a39ab0eddcf476183b04e7c876f4f658d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9d443c6e5b7fd46770435e7656e7d39"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceMilter.html#ad9d443c6e5b7fd46770435e7656e7d39">factory</a> = <a class="el" href="classMilter_1_1Milter.html">Milter</a></td></tr>
<tr class="memdesc:ad9d443c6e5b7fd46770435e7656e7d39"><td class="mdescLeft">&#160;</td><td class="mdescRight">The milter connection factory This factory method is called for each connection to create the python object that tracks the connection.  <a href="#ad9d443c6e5b7fd46770435e7656e7d39">More...</a><br /></td></tr>
<tr class="separator:ad9d443c6e5b7fd46770435e7656e7d39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27f56b15dbe8a30a22df763820c29378"><td class="memItemLeft" align="right" valign="top"><a id="a27f56b15dbe8a30a22df763820c29378"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>__all__</b> = globals().copy()</td></tr>
<tr class="separator:a27f56b15dbe8a30a22df763820c29378"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A thin OO wrapper for the milter module. </p>
<p>Clients generally subclass <a class="el" href="classMilter_1_1Base.html" title="A do &quot;nothing&quot; Milter base class representing an SMTP connection. ">Milter.Base</a> and define callback methods.</p>
<dl class="section author"><dt>Author</dt><dd>Stuart D. Gathman <a href="#" onclick="location.href='mai'+'lto:'+'stu'+'ar'+'t@b'+'ms'+'i.c'+'om'; return false;">stuar<span style="display: none;">.nosp@m.</span>t@bm<span style="display: none;">.nosp@m.</span>si.co<span style="display: none;">.nosp@m.</span>m</a> Copyright 2001,2009 Business Management Systems, Inc. This code is under the GNU General Public License. See COPYING for details. </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aacda23f972ebb12f0ba4364a868b85b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacda23f972ebb12f0ba4364a868b85b8">&#9670;&nbsp;</a></span>close_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def Milter.close_callback </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Disconnect milterContext and call close method. </p>

</div>
</div>
<a id="a991b1e2cee845a5e91b55345d5309c11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a991b1e2cee845a5e91b55345d5309c11">&#9670;&nbsp;</a></span>connect_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def Milter.connect_callback </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hostname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>family</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hostaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nr_mask</em> = <code>P_NR_CONN</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Connect context if needed and invoke connect method. </p>

<p class="reference">References <a class="el" href="namespaceMilter.html#ad9d443c6e5b7fd46770435e7656e7d39">factory</a>.</p>

</div>
</div>
<a id="a70614463afdd03aa7fefafde049ce003"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70614463afdd03aa7fefafde049ce003">&#9670;&nbsp;</a></span>dictfromlist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Milter.dictfromlist </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert ESMTP parameters with values to a keyword dictionary. </p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000001">Deprecated:</a></b></dt><dd>You probably want <a class="el" href="namespaceMilter.html#aa7a286dc2615af8a18b4ce61142b69c7" title="Convert ESMTP parm list to keyword dictionary. ">Milter.param2dict</a> instead. </dd></dl>

</div>
</div>
<a id="adb642b2896800154bfd09a87714270f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb642b2896800154bfd09a87714270f3">&#9670;&nbsp;</a></span>enable_protocols()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Milter.enable_protocols </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Class decorator to enable optional protocol steps. </p>
<p>P_SKIP is enabled by default when supported, but applications may wish to enable P_HDR_LEADSPC to send and receive the leading space of header continuation lines unchanged, and/or P_RCPT_REJ to have recipients detected as invalid by the MTA passed to the envcrpt callback.</p>
<p>Applications may want to check whether the protocol is actually supported by the MTA in use. <a class="el" href="classMilter_1_1Base.html#a2b029cd0e1e8a56340a09cb64425f024" title="A bitmask of protocol options this connection has negotiated. ">Base._protocol</a> is a bitmask of protocol options negotiated. So, for instance, if <code>self._protocol &amp; Milter.P_RCPT_REJ</code> is true, then that feature was successfully negotiated with the MTA and the application will see recipients the MTA has flagged as invalid.</p>
<p>Sample use: </p><pre>
 class myMilter(<a class="el" href="classMilter_1_1Base.html" title="A do &quot;nothing&quot; Milter base class representing an SMTP connection. ">Milter.Base</a>):
   def envrcpt(self,to,*params):
     return Milter.CONTINUE
 myMilter = <a class="el" href="namespaceMilter.html#adb642b2896800154bfd09a87714270f3" title="Class decorator to enable optional protocol steps. ">Milter.enable_protocols</a>(myMilter,Milter.P_RCPT_REJ)
 </pre> <dl class="section since"><dt>Since</dt><dd>0.9.3 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">klass</td><td>the milter application class to modify </td></tr>
    <tr><td class="paramname">mask</td><td>a bitmask of protocol steps to enable </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the modified milter class </dd></dl>

<p class="reference">Referenced by <a class="el" href="namespaceMilter.html#a7499675835bbccdb9512199a0b170bc2">header_leading_space()</a>, and <a class="el" href="namespaceMilter.html#a51b93684e65400f11b94b517bead1552">rejected_recipients()</a>.</p>

</div>
</div>
<a id="a5e8bd5026774a96120d083007a5d4d73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e8bd5026774a96120d083007a5d4d73">&#9670;&nbsp;</a></span>envcallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Milter.envcallback </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Call function c with ESMTP parms converted to keyword parameters.
Can be used in the envfrom and/or envrcpt callbacks to process
ESMTP parameters as python keyword parameters.</pre> 
</div>
</div>
<a id="a7499675835bbccdb9512199a0b170bc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7499675835bbccdb9512199a0b170bc2">&#9670;&nbsp;</a></span>header_leading_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Milter.header_leading_space </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="namespaceMilter.html" title="A thin OO wrapper for the milter module. ">Milter</a> leading space on headers. </p>
<p>A class decorator that calls <a class="el" href="namespaceMilter.html#adb642b2896800154bfd09a87714270f3" title="Class decorator to enable optional protocol steps. ">enable_protocols()</a> with the P_HDR_LEADSPC flag. By default, header continuation lines are collected and joined before getting sent to a milter. Headers modified or added by the milter are folded by the MTA as necessary according to its own standards. With this flag, header continuation lines are preserved with their newlines and leading space. In addition, header folding done by the milter is preserved as well. Use like this with python-2.6 and later: </p><pre>
 @<a class="el" href="namespaceMilter.html#a7499675835bbccdb9512199a0b170bc2" title="Milter leading space on headers. ">Milter.header_leading_space</a>
 class myMilter(<a class="el" href="classMilter_1_1Base.html" title="A do &quot;nothing&quot; Milter base class representing an SMTP connection. ">Milter.Base</a>):
   def header(self,hname,value):
     return Milter.CONTINUE
 </pre> <dl class="section since"><dt>Since</dt><dd>0.9.5 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">klass</td><td>the milter application class to modify </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the modified milter class </dd></dl>

<p class="reference">References <a class="el" href="namespaceMilter.html#adb642b2896800154bfd09a87714270f3">enable_protocols()</a>.</p>

</div>
</div>
<a id="ad3598adf6489982e50979239ef7df4e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3598adf6489982e50979239ef7df4e9">&#9670;&nbsp;</a></span>negotiate_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def Milter.negotiate_callback </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>opts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Connect context to connection instance and return enabled callbacks. </p>

<p class="reference">References <a class="el" href="namespaceMilter.html#ad9d443c6e5b7fd46770435e7656e7d39">factory</a>.</p>

</div>
</div>
<a id="a4bcf5eccbf8694a1c259fa6681557d6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bcf5eccbf8694a1c259fa6681557d6b">&#9670;&nbsp;</a></span>nocallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Milter.nocallback </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function decorator to disable callback methods. </p>
<p>If the MTA supports it, tells the MTA not to invoke this callback, increasing efficiency. All the callbacks (except negotiate) are disabled in <a class="el" href="classMilter_1_1Base.html" title="A do &quot;nothing&quot; Milter base class representing an SMTP connection. ">Milter.Base</a>, and overriding them reenables the callback. An application may need to use @nocallback when it extends another milter and wants to disable a callback again. The disabled method should still return Milter.CONTINUE, in case the MTA does not support protocol negotiation, and for when called from a test harness. </p><dl class="section since"><dt>Since</dt><dd>0.9.2 </dd></dl>

</div>
</div>
<a id="a5bc0cfa03c567347b622acda6f6b6d42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bc0cfa03c567347b622acda6f6b6d42">&#9670;&nbsp;</a></span>noreply()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Milter.noreply </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function decorator to disable callback reply. </p>
<p>If the MTA supports it, tells the MTA not to wait for a reply from this callback, and assume CONTINUE. The method should still return CONTINUE in case the MTA does not support protocol negotiation. The decorator arranges to change the return code to NOREPLY when supported by the MTA. </p><dl class="section since"><dt>Since</dt><dd>0.9.2 </dd></dl>

</div>
</div>
<a id="aa7a286dc2615af8a18b4ce61142b69c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7a286dc2615af8a18b4ce61142b69c7">&#9670;&nbsp;</a></span>param2dict()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Milter.param2dict </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert ESMTP parm list to keyword dictionary. </p>
<p>Params with no value are set to None in the dictionary. </p><dl class="section since"><dt>Since</dt><dd>0.9.3 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>list of param strings of the form "NAME" or "NAME=VALUE" </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a dictionary of ESMTP param names and values </dd></dl>

</div>
</div>
<a id="a51b93684e65400f11b94b517bead1552"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51b93684e65400f11b94b517bead1552">&#9670;&nbsp;</a></span>rejected_recipients()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Milter.rejected_recipients </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="namespaceMilter.html" title="A thin OO wrapper for the milter module. ">Milter</a> rejected recipients. </p>
<p>A class decorator that calls <a class="el" href="namespaceMilter.html#adb642b2896800154bfd09a87714270f3" title="Class decorator to enable optional protocol steps. ">enable_protocols()</a> with the P_RCPT_REJ flag. By default, the MTA does not pass recipients that it knows are invalid on to the milter. This decorator enables a milter app to see all recipients if supported by the MTA. Use like this with python-2.6 and later: </p><pre>
 @<a class="el" href="namespaceMilter.html#a51b93684e65400f11b94b517bead1552" title="Milter rejected recipients. ">Milter.rejected_recipients</a>
 class myMilter(<a class="el" href="classMilter_1_1Base.html" title="A do &quot;nothing&quot; Milter base class representing an SMTP connection. ">Milter.Base</a>):
   def envrcpt(self,to,*params):
     return Milter.CONTINUE
 </pre> <dl class="section since"><dt>Since</dt><dd>0.9.5 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">klass</td><td>the milter application class to modify </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the modified milter class </dd></dl>

<p class="reference">References <a class="el" href="namespaceMilter.html#adb642b2896800154bfd09a87714270f3">enable_protocols()</a>.</p>

</div>
</div>
<a id="a2a9ef4e7c479795d911767ebf66b073f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a9ef4e7c479795d911767ebf66b073f">&#9670;&nbsp;</a></span>runmilter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Milter.runmilter </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>socketname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rmsock</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run the milter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>the name of the milter known to the MTA </td></tr>
    <tr><td class="paramname">socketname</td><td>the socket to be passed to <a class="el" href="namespacemilter.html#a47dedd3e5972a865bcfaa5163eb481cb" title="Set the socket used to communicate with the MTA. ">milter.setconn()</a> </td></tr>
    <tr><td class="paramname">timeout</td><td>the time in secs the MTA should wait for a response before considering this milter dead </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="namespacemilter.html#a87fde36f3baa77e209fbed7ca2c89796">milter.getversion()</a>, <a class="el" href="namespacemilter.html#a505352a1ee405fa0bc08c97ed094fb21">milter.main()</a>, <a class="el" href="namespacemilter.html#a25c4b69c2520b1935a816734041db77d">milter.opensocket()</a>, <a class="el" href="namespacemilter.html#ad668b975fc73cf0cf5541607bc6b40c4">milter.register()</a>, <a class="el" href="namespacemilter.html#a47dedd3e5972a865bcfaa5163eb481cb">milter.setconn()</a>, and <a class="el" href="namespacemilter.html#a560ae93b2946e6405d4e317461db8b4d">milter.settimeout()</a>.</p>

</div>
</div>
<a id="a9a8edeac358a100594f22a802cd4ba94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a8edeac358a100594f22a802cd4ba94">&#9670;&nbsp;</a></span>symlist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Milter.symlist </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>syms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function decorator to set macros used in a callback. </p>
<p>By default, the MTA sends all macros defined for a callback. If some or all of these are unused, the bandwidth can be saved by listing the ones that are used. </p><dl class="section since"><dt>Since</dt><dd>1.0.2 </dd></dl>

</div>
</div>
<a id="ad789f93f62d6c9e96fdd9be997204cf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad789f93f62d6c9e96fdd9be997204cf0">&#9670;&nbsp;</a></span>uniqueID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Milter.uniqueID </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return a unique sequence number (incremented on each call).
</pre> 
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad9d443c6e5b7fd46770435e7656e7d39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9d443c6e5b7fd46770435e7656e7d39">&#9670;&nbsp;</a></span>factory</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Milter.factory = <a class="el" href="classMilter_1_1Milter.html">Milter</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The milter connection factory This factory method is called for each connection to create the python object that tracks the connection. </p>
<p>It should return an object derived from <a class="el" href="classMilter_1_1Base.html" title="A do &quot;nothing&quot; Milter base class representing an SMTP connection. ">Milter.Base</a>.</p>
<p>Note that since python is dynamic, this variable can be changed while the milter is running: for instance, to a new subclass based on a change in configuration. </p>

<p class="reference">Referenced by <a class="el" href="namespaceMilter.html#a991b1e2cee845a5e91b55345d5309c11">connect_callback()</a>, and <a class="el" href="namespaceMilter.html#ad3598adf6489982e50979239ef7df4e9">negotiate_callback()</a>.</p>

</div>
</div>
<a id="ae2bfeab3e33ceed9d2104017a97a506c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2bfeab3e33ceed9d2104017a97a506c">&#9670;&nbsp;</a></span>MACRO_CALLBACKS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary Milter.MACRO_CALLBACKS</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;=  {</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;  <span class="stringliteral">&#39;connect&#39;</span>: M_CONNECT,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;  <span class="stringliteral">&#39;hello&#39;</span>: M_HELO, <span class="stringliteral">&#39;envfrom&#39;</span>: M_ENVFROM, <span class="stringliteral">&#39;envrcpt&#39;</span>: M_ENVRCPT,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  <span class="stringliteral">&#39;data&#39;</span>: M_DATA, <span class="stringliteral">&#39;eom&#39;</span>: M_EOM, <span class="stringliteral">&#39;eoh&#39;</span>: M_EOH</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="afabb800c9ae9018dfa1d176710fe9386"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afabb800c9ae9018dfa1d176710fe9386">&#9670;&nbsp;</a></span>OPTIONAL_CALLBACKS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dictionary Milter.OPTIONAL_CALLBACKS</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;=  {</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;  <span class="stringliteral">&#39;connect&#39;</span>:(P_NR_CONN,P_NOCONNECT),</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;  <span class="stringliteral">&#39;hello&#39;</span>:(P_NR_HELO,P_NOHELO),</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  <span class="stringliteral">&#39;envfrom&#39;</span>:(P_NR_MAIL,P_NOMAIL),</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;  <span class="stringliteral">&#39;envrcpt&#39;</span>:(P_NR_RCPT,P_NORCPT),</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;  <span class="stringliteral">&#39;data&#39;</span>:(P_NR_DATA,P_NODATA),</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;  <span class="stringliteral">&#39;unknown&#39;</span>:(P_NR_UNKN,P_NOUNKNOWN),</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;  <span class="stringliteral">&#39;eoh&#39;</span>:(P_NR_EOH,P_NOEOH),</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;  <span class="stringliteral">&#39;body&#39;</span>:(P_NR_BODY,P_NOBODY),</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;  <span class="stringliteral">&#39;header&#39;</span>:(P_NR_HDR,P_NOHDRS)</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
